<h2>{{'administration.user_management'| translate}} - {{user?.username}} -</h2>
<mat-divider></mat-divider>
<mat-card>
  <app-loader *ngIf="block" [color]="color" [mode]="mode" [value]="value" [diameter]="48">
  </app-loader>
  <form [formGroup]="userForm">
      <div class="container">
      <button [disabled]="userForm.invalid" class="pull-right save" (click)="onSave()" type="button" mat-button>
        <span class="glyphicon glyphicon-floppy-disk"></span>
      </button>
      <button class="pull-right cancel" type="button" (click)="onCancel()" mat-button>
          <span class="glyphicon glyphicon-remove"></span>
      </button>
      <mat-form-field *ngIf="!isOnEdit" appearance="outline">
          <mat-label>{{'user.placeholder.username' | translate}}</mat-label>
        <input name="username" formControlName="username" (blur)="checkUserName()" [(ngModel)]="user.username" matInput autofocus required>
        <mat-error *ngIf="username.invalid">{{'messages.field_required_error' | translate}}</mat-error>
      </mat-form-field>
          <label *ngIf="isOnEdit">{{'user.placeholder.username' | translate}}</label>
          <h2 *ngIf="isOnEdit">{{user?.username}}</h2>
      <br>
      <mat-form-field appearance="outline">
          <mat-label>{{'user.placeholder.name' | translate}}</mat-label>
        <input name="name" formControlName="name" [(ngModel)]="user.name" matInput required>
        <mat-error *ngIf="name.invalid">{{'messages.field_required_error' | translate}}</mat-error>
      </mat-form-field>
      <br>
          <mat-form-field appearance="outline">
              <mat-label>{{'user.placeholder.password' | translate}}</mat-label>
              <input name="password" formControlName="password" [(ngModel)]="user.password" matInput required>
              <mat-error *ngIf="password.invalid">{{'messages.field_required_error' | translate}}</mat-error>
          </mat-form-field>
          <br>
          <mat-form-field appearance="outline">
              <mat-label>{{'user.placeholder.role' | translate}}</mat-label>
              <mat-select [disabled]="isOnEdit" formControlName="role" [(ngModel)]="user.role" name="role" required>
                  <mat-option>--</mat-option>
                  <mat-option *ngFor="let role of roles" [value]="role">
                      {{'user.' + role | translate}}
                  </mat-option>
              </mat-select>
              <mat-error *ngIf="role.hasError('required')">{{'messages.field_required_error' | translate}}</mat-error>
          </mat-form-field>
    </div>
  </form>
</mat-card>
